(this["webpackJsonpaliva-kakao-client-ts"]=this["webpackJsonpaliva-kakao-client-ts"]||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(31),a=n(36),c=n(4),s={user:{email:"",chatList:{},accessToken:""},chat:[],currentFocus:"",ws:null,loading:!1},o=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.a,i=Object(r.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return console.log(t),e=Object(c.a)(Object(c.a)({},e),{},{user:{email:t.payload.email,chatList:t.payload.chatList,accessToken:t.payload.accessToken},chat:t.payload.messageStore});case"LOGOUT":return e=Object(c.a)(Object(c.a)({},e),{},{user:{email:"",chatList:{},accessToken:""}});case"LOAD_CHAT":return e=Object(c.a)(Object(c.a)({},e),{},{chat:e.user.chatList[t.payload].messages});case"START_LOADING":return e=Object(c.a)(Object(c.a)({},e),{},{loading:!0});case"STOP_LOADING":return e=Object(c.a)(Object(c.a)({},e),{},{loading:!1});case"SET_FOCUSED_USER":return e=Object(c.a)(Object(c.a)({},e),{},{currentFocus:t.payload});case"SET_WS":return e=Object(c.a)(Object(c.a)({},e),{},{ws:t.payload});case"NEW_MESSAGE":var n=t.payload,r=n.receiverUserName,o=n.message,i=n.senderName;return e=Object(c.a)(Object(c.a)({},e),{},{chat:[].concat(Object(a.a)(e.chat),[Object(c.a)(Object(c.a)({receiverUserName:r},o),{},{senderName:i})])});default:return e}}),o())},20:function(e,t,n){"use strict"},33:function(e,t,n){"use strict";(function(e){var r=n(2),a=n.n(r),c=n(7),s=n(37),o=n(1),i=n(6),l=n(34),u=n(35),d=n(8),b=(n(55),n(0));t.a=function(){var t=Object(i.d)((function(e){return e.currentFocus})),n=Object(i.d)((function(e){return e.user.email})),r=Object(i.d)((function(e){return e.user.chatList})),m=Object(i.d)((function(e){return e.ws})),j=Object(i.c)(),p=Object(o.useState)(""),f=Object(s.a)(p,2),O=f[0],h=f[1],v=function(){var s=Object(c.a)(a.a.mark((function c(s){var o,i,b,p,f,h,v,g;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(s.preventDefault(),o=document.getElementById("userFileUpload"),null,t){c.next=6;break}return alert("Please a contact first"),c.abrupt("return");case 6:if(O||!(o.files.length<=0)){c.next=10;break}return alert("Plase select a file or type some message"),c.abrupt("return");case 10:if(!(o.files.length>0)){c.next=38;break}c.t0=a.a.keys(o.files);case 12:if((c.t1=c.t0()).done){c.next=36;break}if(i=c.t1.value,!Object.prototype.hasOwnProperty.call(o.files,i)){c.next=34;break}return b=o.files[i],c.next=18,Object(u.a)(b);case 18:return p=c.sent,console.log(p),c.t2=e,c.t3=Uint8Array,c.next=24,b.arrayBuffer();case 24:return c.t4=c.sent,c.t5=new c.t3(c.t4),c.t2.from.call(c.t2,c.t5),c.next=29,Object(l.a)(b);case 29:f=c.sent,h=f.path,v=r[t].channelId,m.send(JSON.stringify({key:"newMessageFile",value:{message:O,receiver:t,filePath:h,email:n,channelId:v}})),j(Object(d.c)({receiverUserName:t,message:{text:"photo",received:!0,attachment:{thumbnailUrl:p}},senderName:"Self"}));case 34:c.next=12;break;case 36:c.next=42;break;case 38:console.log(t),g=r[t].channelId,m.send(JSON.stringify({key:"newMessage",value:{message:O,receiver:t,email:n,channelId:g}})),j(Object(d.c)({receiverUserName:t,message:{text:O,received:!0},senderName:"Self"}));case 42:case"end":return c.stop()}}),c)})));return function(e){return s.apply(this,arguments)}}();return Object(b.jsx)("div",{className:"messageInputContainer",children:Object(b.jsxs)("form",{className:"m-2",onSubmit:v,encType:"multipart/form-data",children:[Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"text",className:"form-control",onInput:function(e){return h(e.target.value)}})}),Object(b.jsx)("div",{className:"form-group",children:Object(b.jsx)("input",{type:"file",className:"form-control-file",id:"userFileUpload"})}),Object(b.jsx)("button",{className:"btn btn-info mt-2",type:"submit",children:"Send"})]})})}}).call(this,n(51).Buffer)},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(2),a=n.n(r),c=n(7),s=(n(20),n(14)),o=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise(function(){var e=Object(c.a)(a.a.mark((function e(n,r){var c,o,i,l,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=s.a.getState(),!(o=c.user.accessToken)){e.next=17;break}return console.log("accessToken: ",o),(i=new FormData).append("myFile",t),l={method:"POST",body:i},u="",u="/uploadfile",e.next=11,fetch(u,l);case 11:return d=e.sent,e.next=14,d.json();case 14:d=e.sent,console.log("result: ",d),n(d);case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),r(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,n;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},35:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n.n(r),c=n(7),s=function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Promise((function(e,n){try{var r=new FileReader;r.onload=function(t){console.log(t.target.result),e(t.target.result)},r.readAsDataURL(t)}catch(a){n(a)}})),e.next=3,n;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},45:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(23),s=n.n(c),o=n(6),i=(n(45),n(14)),l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},u=n(16),d=n(17),b=n(19),m=n(18),j=n(12),p=n(5),f=n(2),O=n.n(f),h=n(7),v=(n(20),{12:"LOGIN_FAILED_REASON",13:"TOO_MANY_TRY_LOGIN",30:"LOGIN_FAILED",32:"MOBILE_UNREGISTERED","-100":"DEVICE_NOT_REGISTERED","-101":"ANOTHER_LOGON","-102":"DEVICE_REGISTER_FAILED","-110":"INVALID_DEVICE_REGISTER","-111":"INCORRECT_PASSCODE","-112":"PASSCODE_REQUEST_FAILED","-997":"ACCOUNT_RESTRICTED"}),g=function(){var e=Object(h.a)(O.a.mark((function e(t,n,r,a){var c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=new Promise(function(){var e=Object(h.a)(O.a.mark((function e(c,s){var o,l,u,d,b,m;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=i.a.getState(),l=o.user.accessToken,console.log("accessToken: ",l),l){e.next=14;break}return u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n,deviceName:r,deviceId:a})},d="",d="/login",e.next=9,fetch(d,u);case 9:return b=e.sent,e.next=12,b.json();case 12:(b=e.sent).error?((m=v["".concat(b.error)])||(m=b.message),alert(m),console.log("result errorMessage: ",m),s(m)):(console.log("result: ",b),c(b));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),s(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,c;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x=n(8),N=function(){i.a.dispatch(Object(x.e)())},y=function(){i.a.dispatch(Object(x.f)())},k=n(0),w=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).loginFormHandler=function(){var t=Object(h.a)(O.a.mark((function t(n){var r,a,c,s,o,i,l,u,d,b,m,j,p,f;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props,a=r.history,c=r.dispatch,n.preventDefault(),s=document.getElementById("userEmail"),o=s.value,i=document.getElementById("userPassword"),l=i.value,u=localStorage.getItem(o)){t.next=11;break}alert("Please register device first"),t.next=35;break;case 11:return t.prev=11,N(),d=JSON.parse(u),b=d.deviceName,m=d.deviceId,t.next=16,g(o,l,b,m);case 16:j=t.sent,console.log("user: ",j),p="",p=window.location.origin.replace(/^http/,"ws"),(f=new WebSocket(p)).onopen=function(){console.log("Socket is open"),f.send(JSON.stringify({key:"setEmail",value:o})),c(Object(x.g)(f))},f.onmessage=function(e){try{var t=JSON.parse(e.data);if("newMesssage"===t.key){var n=t.text,r=t.sender,a=t.receiverUser,s=t.sendAt,o=t.attachment,i={text:n,sender:r,receiverUser:a,sendAt:s};console.log("We have a message: ",i);var l=Object.keys(a)[0];c(Object(x.c)({receiverUserName:l,message:{attachment:o,text:n,received:!0},senderName:r.nickname}))}}catch(u){console.log(u),y(),console.log("We have a message: ",e.data)}},f.onerror=function(){alert("Socket has error")},f.onclose=function(){alert("Socket is closed"),c(Object(x.b)()),a.push("/login")},c(Object(x.a)(j)),localStorage.setItem("token",JSON.stringify({accessToken:j.accessToken,refreshToken:j.accessToken,email:o,password:l})),a.push("/"),y(),t.next=35;break;case 31:t.prev=31,t.t0=t.catch(11),y(),console.error(t.t0);case 35:case"end":return t.stop()}}),t,null,[[11,31]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(d.a)(n,[{key:"render",value:function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("form",{className:"m-3",onSubmit:this.loginFormHandler,children:[Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"userEmail",className:"form-label",children:"Email address"}),Object(k.jsx)("input",{type:"email",className:"form-control",id:"userEmail",required:!0,"aria-describedby":"emailHelp"}),Object(k.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"userPassword",className:"form-label",children:"Password"}),Object(k.jsx)("input",{type:"password",className:"form-control",autoComplete:"true",required:!0,id:"userPassword"})]}),Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-dark m-2",children:"Login"}),Object(k.jsx)(j.b,{to:"/register",children:Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-info",children:"Register Device"})})]})})}}]),n}(a.a.Component),S=Object(o.b)((function(e){return{chatList:e.user.chatList}}))(Object(p.h)(w)),E=n(59),I=function(){var e=Object(h.a)(O.a.mark((function e(t,n,r,a){var c,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceName:t,deviceId:n,email:r,password:a})},s="",s="/device/sendCode",e.next=5,fetch(s,c);case 5:return o=e.sent,e.next=8,o.json();case 8:(o=e.sent).error?(i=o.message,alert(i),console.log("result: ",i)):(alert(o.message),console.log(o.message));case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(h.a)(O.a.mark((function e(t,n,r){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Promise(function(){var e=Object(h.a)(O.a.mark((function e(a,c){var s,o,i,l;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t,email:n,password:r})},o="",o="/device/setCode",e.next=5,fetch(o,s);case 5:return i=e.sent,e.next=8,i.json();case 8:(i=e.sent).error?((l=v["".concat(i.error)])||(l=i.message),alert(l),console.log("result: ",i),console.log("errorMessage: ",l),c(l)):(a(i.message),alert(i.message),console.log(i));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=3,a;case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),L=function(){var e=Object(p.g)(),t=function(){var e=Object(h.a)(O.a.mark((function e(t){var n,r,a,c,s,o,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("userEmail"),r=n.value,a=document.getElementById("userPassword"),c=a.value,s=document.getElementById("machineName"),o=s.value,i=(i=Object(E.a)()).split("-").join(""),console.log("deviceId: ",i),e.prev=10,e.next=13,I(o,i,r,c);case 13:localStorage.setItem(r,JSON.stringify({deviceName:o,deviceId:i})),console.log("deviceName: ",o),console.log("deviceId: ",i),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}(),n=function(){var t=Object(h.a)(O.a.mark((function t(n){var r,a,c,s,o,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),r=document.getElementById("userEmail"),a=r.value,c=document.getElementById("userPassword"),s=c.value,o=document.getElementById("registerCode"),i=o.value,t.prev=7,t.next=10,T(i,a,s);case 10:e.push("/login"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(7),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[7,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(k.jsxs)("div",{children:[Object(k.jsxs)("form",{className:"m-3",onSubmit:t,children:[Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"userEmail",className:"form-label",children:"Email address"}),Object(k.jsx)("input",{type:"email",className:"form-control",id:"userEmail",required:!0,"aria-describedby":"emailHelp"}),Object(k.jsx)("div",{id:"emailHelp",className:"form-text",children:"We'll never share your email with anyone else."})]}),Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"userPassword",className:"form-label",children:"Password"}),Object(k.jsx)("input",{type:"password",className:"form-control",autoComplete:"true",required:!0,id:"userPassword"})]}),Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"machineName",className:"form-label",children:"Enter Device Name To Save"}),Object(k.jsx)("input",{type:"text",className:"form-control",placeholder:"Office Pc",id:"machineName",required:!0})]}),Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-dark m-2",children:"Send Code"}),Object(k.jsx)(j.b,{to:"/login",children:Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-info",children:"Login"})})]}),Object(k.jsxs)("form",{className:"m-3",onSubmit:n,children:[Object(k.jsxs)("div",{className:"mb-3",children:[Object(k.jsx)("label",{htmlFor:"registerCode",className:"form-label",children:"Enter code"}),Object(k.jsx)("input",{type:"number",placeholder:"1234",className:"form-control",id:"registerCode",required:!0})]}),Object(k.jsx)("button",{type:"submit",className:"btn btn-outline-dark m-2",children:"Register"})]})]})},C=n.p+"static/media/profile.a9136072.png",_=(n(49),function(e){var t=e.name,n=e.profileImage,r=e.onClickHandler,a=Object(o.d)((function(e){return e.currentFocus}));return Object(k.jsxs)("div",{className:"chatListItemContainer border d-flex flex-row w-10 m-2 p-2 ".concat(a===t&&"focusedContact"),onClick:r,children:[Object(k.jsx)("img",{src:n||C,className:"rounded-circle profileWidth",alt:"profileImage"}),Object(k.jsx)("h3",{className:"d-inline contactName",children:t})]})}),D=(n(50),function(e){var t=Object(o.d)((function(e){return console.log("useSelector"),e.chat}));return Object(k.jsxs)("div",{className:"chatWindowContainer m-2",children:[console.log("props: ",e),Object(k.jsx)("h1",{children:"Chat Window"}),t.map((function(e,t){return Object(k.jsxs)("div",{className:e.received?"d-flex border-bottom m-2":"d-flex flex-row-reverse",children:["photo"===e.text&&e.attachment&&e.attachment.thumbnailUrl&&Object(k.jsx)("img",{loading:"lazy",alt:"userImages",src:e.attachment.thumbnailUrl}),Object(k.jsxs)("span",{className:e.received?"receiverMessage m-2 p-2 d-block w-100":"senderMessage m-2 p-2 d-block",children:[Object(k.jsx)("b",{children:"text: "}),e.text,Object(k.jsx)("b",{children:" from: "}),e.senderName,Object(k.jsx)("b",{children:" to: "}),e.receiverUserName]})]},t)}))]})}),U=n(33),F=function(){return Object(k.jsxs)("div",{children:[Object(k.jsx)(D,{}),Object(k.jsx)(U.a,{})]})},P=(n(56),Object(o.b)((function(e){return{user:e.user}}))((function(e){return Object(k.jsxs)("div",{className:"d-flex",id:"homeMainContainer",children:[Object(k.jsx)("div",{className:"chatListContainer border d-flex flex-column flex-wrap m-2 justify-content-center",children:e.user.chatList?function(){var t=[],n=0,r=e.user.chatList;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&function(){var c=r[a];t.push(Object(k.jsx)(_,{profileImage:c.displayUserList[0].profileURL,name:c.displayUserList[0].nickname,onClickHandler:function(){return t=c.displayUserList[0].nickname,void e.dispatch(Object(x.d)(t));var t}},n)),n++}();return t}():""}),Object(k.jsx)("div",{className:"border m-2 messageContainer",children:Object(k.jsx)(F,{})})]})}))),A=function(e){var t=e.email,n=Object(o.c)(),r=Object(p.g)();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(j.b,{className:"nav-link active","aria-current":"page",to:"/",children:"Home"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)("span",{className:"nav-link active",children:t})}),Object(k.jsx)("li",{className:"nav-item hoverEffect",onClick:function(){n(Object(x.b)()),localStorage.removeItem("token"),r.push("/login")},children:Object(k.jsx)("span",{className:"nav-link active",children:"Logout"})})]})},R=function(){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(j.b,{className:"nav-link active",to:"/login",children:"Login"})})})},G=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(O.a.mark((function e(){var t,n,r,a,c,s,o,i,l,u,d,b,m,j,p;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("token"),n=this.props,r=n.dispatch,a=n.history,c=n.token,!t||c){e.next=30;break}return s=JSON.parse(t),o=s.email,i=s.password,l=localStorage.getItem(o),e.prev=5,N(),u=JSON.parse(l),d=u.deviceName,b=u.deviceId,e.next=10,g(o,i,d,b);case 10:m=e.sent,j="",j=window.location.origin.replace(/^http/,"ws"),(p=new WebSocket(j)).onopen=function(){console.log("Socket is open"),p.send(JSON.stringify({key:"setEmail",value:o})),r(Object(x.g)(p))},p.onmessage=function(e){try{var t=JSON.parse(e.data);if("newMesssage"===t.key){var n=t.text,a=t.sender,c=t.receiverUser,s=t.sendAt,o=t.attachment,i={text:n,sender:a,receiverUser:c,sendAt:s};console.log("We have a message: ",i);var l=Object.keys(c)[0];r(Object(x.c)({receiverUserName:l,message:{attachment:o,text:n,received:!0},senderName:a.nickname}))}}catch(u){console.log(u),y(),console.log("We have a message: ",e.data)}},p.onerror=function(){alert("Socket has error")},p.onclose=function(e){alert("Socket is closed"),console.log(e),a.push("/login")},r(Object(x.a)(m)),localStorage.setItem("token",JSON.stringify({accessToken:m.accessToken,refreshToken:m.accessToken,email:o,password:i})),a.push("/"),y(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(5),y(),console.error(e.t0);case 28:e.next=31;break;case 30:console.log("Acoided +++++++++++++++++++");case 31:case"end":return e.stop()}}),e,this,[[5,24]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.token,n=e.email;return Object(k.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(k.jsxs)("div",{className:"container-fluid",children:[Object(k.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#alivaNavbar","aria-controls":"alivaNavbar","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(k.jsx)("span",{className:"navbar-toggler-icon"})}),Object(k.jsxs)("div",{className:"collapse navbar-collapse",id:"alivaNavbar",children:[Object(k.jsx)(j.b,{className:"navbar-brand",to:"/",children:"AlivaTech"}),Object(k.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:t?Object(k.jsx)(A,{email:n}):Object(k.jsx)(R,{})})]})]})})}}]),n}(a.a.Component),J=Object(o.b)((function(e){return{token:e.user.accessToken,email:e.user.email}}))(Object(p.h)(G)),M=n(4),W=n(26),B=function(e){var t=e.component,n=(e.token,Object(W.a)(e,["component","token"]));return Object(k.jsx)(p.b,Object(M.a)(Object(M.a)({},n),{},{render:function(e){return Object(k.jsx)(t,Object(M.a)({},e))}}))},H=Object(o.b)((function(e){return{token:e.user.accessToken}}))((function(e){var t=e.component,n=e.token,r=Object(W.a)(e,["component","token"]);return Object(k.jsx)(p.b,Object(M.a)(Object(M.a)({},r),{},{render:function(e){return n?Object(k.jsx)(t,Object(M.a)({},e)):Object(k.jsx)(p.a,{to:{pathname:"/login"}})}}))})),q=function(e){Object(b.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return this.props.loading?Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:"Loading .........."})}):Object(k.jsx)("div",{children:Object(k.jsxs)(j.a,{children:[Object(k.jsx)(J,{}),Object(k.jsxs)(p.d,{children:[Object(k.jsx)(B,{path:"/login",component:S}),Object(k.jsx)(B,{path:"/register",component:L}),Object(k.jsx)(H,{path:"/",component:P})]})]})})}}]),n}(a.a.Component),V=Object(o.b)((function(e){return{loading:e.loading}}))(q);s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(o.a,{store:i.a,children:Object(k.jsx)(V,{})})}),document.getElementById("root")),l()},8:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return c})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"f",(function(){return l}));var r=function(e){return{type:"LOGIN",payload:e}},a=function(){return{type:"LOGOUT"}},c=function(e){return{type:"SET_FOCUSED_USER",payload:e}},s=function(e){return{type:"SET_WS",payload:e}},o=function(e){return{type:"NEW_MESSAGE",payload:e}},i=function(){return{type:"START_LOADING"}},l=function(){return{type:"STOP_LOADING"}}}},[[57,1,2]]]);
//# sourceMappingURL=main.6222c0b2.chunk.js.map